<script setup>
import {  onMounted } from "vue";
import gsap from "gsap";
import ScrollTrigger from "gsap/ScrollTrigger";

onMounted(() => {
  gsap.registerPlugin(ScrollTrigger);
  let marqueeBlock = document.querySelector(".kult__marquiz");
  let distance = marqueeBlock.scrollWidth / 2;

  gsap.to(".kult__marquiz", {
    x: `-${distance}px`,
    duration: 15,
    ease: "linear",
    repeat: -1,
  });

  const icons = document.querySelectorAll(".icons svg");

  // Установка начального состояния
  gsap.set(icons, {
    y: "-100px",
    opacity: 0,
  });

  // Анимация с ScrollTrigger
  gsap.to(icons, {
    y: "520px",
    opacity: 1,
    ease: "none",
    stagger: 0.1,
    duration: 0.5,
    scrollTrigger: {
      trigger: ".icons",
      start: "top center",
      toggleActions: "play none none none",
    },
    onComplete: () => {
      // Для каждой иконки запускаем индивидуальную анимацию "разъезда"
      icons.forEach((icon) => {
        gsap.to(icon, {
          x: `${50 + Math.random() * 100}px`,
          rotation: `${130 + Math.random() * 60}`,
          duration: 1.8,
          ease: "easyInSine",
        });
      });
    },
  });
});
</script>
<template>
  <div class="kult">
    <svg
      class="kult__bg1"
      xmlns="http://www.w3.org/2000/svg"
      width="991"
      height="205"
      viewBox="0 0 991 205"
      fill="none"
    >
      <g opacity="0.05">
        <path
          d="M990.1 117.543C990.957 147.213 967.498 171.963 937.702 172.824C907.907 173.685 883.058 150.33 882.201 120.66L877.314 -48.5248L985.214 -51.6414L990.1 117.543Z"
          fill="#4B69D4"
        />
        <path
          d="M804.9 122.893C805.757 152.563 782.298 177.313 752.502 178.173C722.706 179.034 697.857 155.679 697 126.01L692.114 -43.1753L800.013 -46.292L804.9 122.893Z"
          fill="#4B69D4"
        />
        <path
          d="M619.699 128.242C620.556 157.912 597.097 182.662 567.301 183.523C537.506 184.383 512.657 161.029 511.8 131.359L506.913 -37.8259L614.813 -40.9425L619.699 128.242Z"
          fill="#4B69D4"
        />
        <path
          d="M434.522 134.394C435.366 163.621 412.257 188.001 382.906 188.849C353.555 189.697 329.077 166.691 328.233 137.464L323.323 -32.5229L429.612 -35.593L434.522 134.394Z"
          fill="#4B69D4"
        />
        <path
          d="M250.909 138.895C251.766 168.565 228.306 193.315 198.511 194.175C168.715 195.036 143.866 171.681 143.009 142.011L138.122 -27.1735L246.022 -30.2901L250.909 138.895Z"
          fill="#4B69D4"
        />
        <path
          d="M65.7082 144.244C66.5652 173.914 43.1058 198.664 13.3102 199.525C-16.4854 200.385 -41.3343 177.031 -42.1913 147.361L-47.0781 -21.824L60.8213 -24.9407L65.7082 144.244Z"
          fill="#4B69D4"
        />
        <path
          d="M-119.492 149.594C-118.635 179.264 -142.095 204.014 -171.89 204.874C-201.686 205.735 -226.535 182.38 -227.392 152.71L-232.279 -16.4746L-124.379 -19.5912L-119.492 149.594Z"
          fill="#4B69D4"
        />
      </g>
    </svg>
    <svg
      class="kult__bg2"
      xmlns="http://www.w3.org/2000/svg"
      width="1002"
      height="233"
      viewBox="0 0 1002 233"
      fill="none"
    >
      <g opacity="0.05">
        <path
          d="M0.721893 242.694C-4.09508 213.405 15.8439 185.741 45.2568 180.903C74.6697 176.066 102.418 195.888 107.235 225.177L134.703 392.188L28.1893 409.706L0.721893 242.694Z"
          fill="#4B69D4"
        />
        <path
          d="M183.544 212.627C178.727 183.338 198.666 155.673 228.079 150.836C257.491 145.998 285.24 165.82 290.057 195.109L317.525 362.121L211.011 379.638L183.544 212.627Z"
          fill="#4B69D4"
        />
        <path
          d="M366.365 182.559C361.548 153.27 381.487 125.605 410.9 120.768C440.313 115.931 468.062 135.753 472.879 165.041L500.346 332.053L393.833 349.571L366.365 182.559Z"
          fill="#4B69D4"
        />
        <path
          d="M549.057 151.7C544.312 122.848 563.953 95.5963 592.927 90.8311C621.901 86.066 649.236 105.592 653.981 134.444L681.578 302.247L576.655 319.503L549.057 151.7Z"
          fill="#4B69D4"
        />
        <path
          d="M730.419 122.685C725.602 93.3964 745.541 65.7316 774.954 60.8942C804.367 56.0569 832.116 75.8787 836.933 105.168L864.4 272.179L757.887 289.697L730.419 122.685Z"
          fill="#4B69D4"
        />
        <path
          d="M913.241 92.6176C908.424 63.3288 928.363 35.664 957.776 30.8266C987.189 25.9892 1014.94 45.8111 1019.75 75.0999L1047.22 242.112L940.708 259.629L913.241 92.6176Z"
          fill="#4B69D4"
        />
        <path
          d="M1096.06 62.55C1091.25 33.2611 1111.18 5.59636 1140.6 0.75898C1170.01 -4.07838 1197.76 15.7435 1202.58 45.0323L1230.04 212.044L1123.53 229.562L1096.06 62.55Z"
          fill="#4B69D4"
        />
      </g>
    </svg>
    <div class="kult__marquiz">
      <div class="head__kult">
        Будь в культе Будь в культе Будь в культе Будь в культе Будь в культе
      </div>
      <div class="head__kult">
        Будь в культе Будь в культе Будь в культе Будь в культе Будь в культе
      </div>
    </div>
    <div class="icons">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="80"
        height="80"
        viewBox="0 0 80 80"
        fill="none"
      >
        <rect width="80" height="80" rx="40" fill="white" />
        <path
          d="M46.4773 31C53.2177 31 64.5204 35.6385 66.0809 39.3216C67.64 43.0089 67.4378 48.6222 63.7326 48.6346C60.8899 48.6443 55.4483 47.4854 53.2121 46.2019C48.9516 43.7552 52.6029 40.8059 49.169 38.7858C47.8425 38.0048 45.5593 38.1752 40 38.1752C34.4407 38.1752 32.1575 38.0048 30.8296 38.7844C27.3957 40.8059 31.0484 43.7566 26.7865 46.2019C24.5517 47.484 19.1101 48.6443 16.2674 48.6346C12.5622 48.6208 12.36 43.0089 13.9191 39.3244C15.4782 35.6399 26.7823 31 33.5227 31H46.4773Z"
          stroke="black"
          stroke-width="4.62857"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="80"
        height="80"
        viewBox="0 0 80 80"
        fill="none"
      >
        <rect width="80" height="80" rx="40" fill="white" />
        <path
          d="M33.6996 25.33C33.6996 26.6349 34.7481 27.6601 36.0296 27.6601H49.0546L23.6804 53.0342C23.2448 53.4699 23 54.0608 23 54.6769C23 55.293 23.2448 55.8839 23.6804 56.3196C24.1161 56.7552 24.707 57 25.3231 57C25.9392 57 26.5301 56.7552 26.9658 56.3196L52.3399 30.9454V43.9704C52.3399 45.2519 53.3884 46.3004 54.67 46.3004C55.9515 46.3004 57 45.2519 57 43.9704V25.33C57 24.0485 55.9515 23 54.67 23H36.0296C34.7481 23 33.6996 24.0485 33.6996 25.33Z"
          fill="black"
        />
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="80"
        height="80"
        viewBox="0 0 80 80"
        fill="none"
      >
        <rect width="80" height="80" rx="40" fill="white" />
        <path
          d="M54 21L44.5 30.5H51.625V49.5C51.625 50.7598 51.1246 51.968 50.2338 52.8588C49.343 53.7496 48.1348 54.25 46.875 54.25C45.6152 54.25 44.407 53.7496 43.5162 52.8588C42.6254 51.968 42.125 50.7598 42.125 49.5V30.5C42.125 27.9804 41.1241 25.5641 39.3425 23.7825C37.5609 22.0009 35.1446 21 32.625 21C30.1054 21 27.6891 22.0009 25.9075 23.7825C24.1259 25.5641 23.125 27.9804 23.125 30.5V49.5H16L25.5 59L35 49.5H27.875V30.5C27.875 29.2402 28.3754 28.032 29.2662 27.1412C30.157 26.2504 31.3652 25.75 32.625 25.75C33.8848 25.75 35.093 26.2504 35.9838 27.1412C36.8746 28.032 37.375 29.2402 37.375 30.5V49.5C37.375 52.0196 38.3759 54.4359 40.1575 56.2175C41.9391 57.9991 44.3554 59 46.875 59C49.3946 59 51.8109 57.9991 53.5925 56.2175C55.3741 54.4359 56.375 52.0196 56.375 49.5V30.5H63.5L54 21Z"
          fill="black"
        />
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="80"
        height="80"
        viewBox="0 0 80 80"
        fill="none"
      >
        <rect width="80" height="80" rx="40" fill="white" />
        <path
          d="M38.1667 15L40.4583 39.75M38.1667 15L62 25.0833V48M38.1667 15L18 29.2083L21.2083 51.6667M40.4583 39.75L62 48M40.4583 39.75L21.2083 51.6667M62 48L42.75 64.0417L21.2083 51.6667"
          stroke="black"
          stroke-width="3.66667"
        />
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="80"
        height="80"
        viewBox="0 0 80 80"
        fill="none"
      >
        <rect width="80" height="80" rx="40" fill="white" />
        <circle
          cx="30.3333"
          cy="32.3333"
          r="13.8"
          stroke="black"
          stroke-width="3.06667"
        />
        <circle
          cx="50.2667"
          cy="32.3333"
          r="13.8"
          stroke="black"
          stroke-width="3.06667"
        />
        <circle
          cx="40.3333"
          cy="47.3333"
          r="13.8"
          stroke="black"
          stroke-width="3.06667"
        />
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="80"
        height="80"
        viewBox="0 0 80 80"
        fill="none"
      >
        <rect width="80" height="80" rx="40" fill="white" />
        <path
          d="M26.3958 52.5998H58.0998V19H26.3083C24.9019 19.0045 23.5543 19.5652 22.5598 20.5598C21.5652 21.5543 21.0045 22.9019 21 24.3083V55.2467H21.001C21.001 55.2599 21 55.2729 21 55.2863C21 58.3838 23.4309 61 26.3083 61H58.0998V58.1998H26.3083C24.9956 58.1998 23.8 56.8111 23.8 55.286C23.8 53.83 24.9887 52.5998 26.3958 52.5998ZM48.9998 21.8291V36.9504L44.7649 33.2326L40.5999 36.9286V21.8291H48.9998ZM37.7999 21.8V40.6999H40.5685L44.775 36.9672L49.0265 40.6999H51.7998V21.8H55.2998V49.7998H29.4069L29.3999 21.8H37.7999ZM26.3083 21.8H26.6L26.6066 49.7998H26.3955C25.485 49.8 24.5904 50.0378 23.8 50.4896V24.3302C23.7978 23.6623 24.0607 23.0208 24.531 22.5464C25.0012 22.0721 25.6404 21.8036 26.3083 21.8Z"
          fill="black"
        />
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="81"
        height="81"
        viewBox="0 0 81 81"
        fill="none"
      >
        <rect
          x="0.22522"
          y="0.775391"
          width="80"
          height="80"
          rx="40"
          fill="white"
        />
        <path
          d="M33.9538 33.6369C30.9183 27.9485 33.1934 21.5633 42.7839 12.7574C42.9373 12.6167 43.117 12.5078 43.3127 12.4369C43.5084 12.366 43.7162 12.3346 43.9242 12.3444C44.1321 12.3542 44.336 12.405 44.5242 12.494C44.7123 12.583 44.881 12.7083 45.0206 12.8628L64.2018 33.9419C64.4845 34.2525 64.6321 34.6626 64.6124 35.0821C64.5926 35.5015 64.407 35.896 64.0964 36.1786C54.7279 44.7036 52.8276 49.8861 53.1351 54.716M33.9538 33.6369C28.5762 30.0798 22.0054 31.7441 12.3363 40.4637C12.1818 40.6032 12.0565 40.7719 11.9675 40.9601C11.8785 41.1482 11.8277 41.3521 11.8179 41.5601C11.8081 41.768 11.8395 41.9758 11.9104 42.1715C11.9813 42.3672 12.0902 42.5469 12.2309 42.7004L31.2836 63.6382C31.9416 64.3613 32.9257 64.5429 33.6488 63.8849C43.0173 55.3599 48.3814 53.9574 53.1351 54.716M33.9538 33.6369L53.1351 54.716"
          stroke="black"
          stroke-width="3.16667"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
    </div>
  </div>
</template>
<style scoped>
.kult {
  background-repeat: no-repeat;
  background-size: cover;
  border-radius: 20px;
  background: #f092f9;
  position: relative;
  overflow: hidden;
  height: 600px;
  padding-top: 40px;
}
.kult__bg1 {
  position: absolute;
  left: 0;
  top: 0;
}
.kult__bg2 {
  position: absolute;
  right: 0;
  bottom: 0;
}
.head__kult {
  color: #fff;
  font-family: Onest;
  font-size: 64px;
  font-style: normal;
  font-weight: 600;
  line-height: 110%; /* 70.4px */
  letter-spacing: -1.28px;
  white-space: nowrap;
}
.kult__marquiz {
  display: flex;
  gap: 10px;
}
.icons {
  width: 100%;
  display: flex;
  gap: 20px;
  position: absolute;
  left: 0; 
  top: 0;
}
@media screen and (max-width: 1024px) {
    .head__kult{
        font-size: 40px;
    }
}
</style>